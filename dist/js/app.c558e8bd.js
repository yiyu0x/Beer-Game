(function(e){function t(t){for(var n,r,u=t[0],i=t[1],l=t[2],c=0,f=[];c<u.length;c++)r=u[c],a[r]&&f.push(a[r][0]),a[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);m&&m(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],n=!0,r=1;r<o.length;r++){var u=o[r];0!==a[u]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},r={app:0},a={app:0},s=[];function u(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"a5338c21"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(e){var t=[],o={about:1};r[e]?t.push(r[e]):0!==r[e]&&o[e]&&t.push(r[e]=new Promise(function(t,o){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"536a3171"}[e]+".css",a=i.p+n,s=document.getElementsByTagName("link"),u=0;u<s.length;u++){var l=s[u],c=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(c===n||c===a))return t()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){l=f[u],c=l.getAttribute("data-href");if(c===n||c===a)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.request=n,delete r[e],m.parentNode.removeChild(m),o(s)},m.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(m)}).then(function(){r[e]=0}));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,o){n=a[e]=[t,o]});t.push(n[2]=s);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=u(e),l=function(t){c.onerror=c.onload=null,clearTimeout(f);var o=a[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+n+": "+r+")");s.type=n,s.request=r,o[1](s)}a[e]=void 0}};var f=setTimeout(function(){l({type:"timeout",target:c})},12e4);c.onerror=c.onload=l,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var m=c;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"081e":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-snackbar",{attrs:{top:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e._v("\n  "+e._s(e.msg)+"\n  "),o("v-btn",{attrs:{flat:"",color:e.color},nativeOn:{click:function(t){e.show=!1}}},[e._v("Close")])],1)},r=[],a=(o("cadf"),o("551c"),o("097d"),o("56d7")),s={data:function(){return{show:!1,color:"warning",msg:"登入後開始遊玩"}},created:function(){var e=this,t="ImLogin"==sessionStorage.getItem("token");if(t){var o=sessionStorage.getItem("user");this.show=!0,this.msg="已登入",this.color="success",this.$socket.emit("init",o,function(e){a["eventBus"].$emit("errorLog",e)}),this.$router.push({path:"lobby"}),console.log("已登入",o)}a["eventBus"].$on("LogOut",function(){e.color="warning",e.msg="已登出",e.show=!0,console.log("已登出"),sessionStorage.removeItem("token"),sessionStorage.removeItem("user"),e.$socket.emit("logout")}),a["eventBus"].$on("LoginStatus",function(t){1==t.status?(e.show=!0,e.msg="登入成功",e.color="success",sessionStorage.setItem("token","ImLogin"),sessionStorage.setItem("user",t.user),console.log("登入成功!!",t.user),e.$socket.emit("init",t.user,function(e){a["eventBus"].$emit("errorLog",e)}),e.$router.push({path:"lobby"})):(console.log("登入失敗"),e.msg="登入失敗",e.color="error",e.show=!0)}),a["eventBus"].$on("RegisterStatus",function(t){1==t?(e.msg="註冊成功",e.color="success"):(e.msg="註冊失敗",e.color="error"),e.show=!0}),a["eventBus"].$on("exitRoom",function(){e.$socket.emit("exitRoom",function(e){a["eventBus"].$emit("errorLog",e)})}),a["eventBus"].$on("errorLog",function(t){e.color="error",e.msg=t,e.show=!0})}},u=s,i=o("2877"),l=o("6544"),c=o.n(l),f=o("8336"),m=o("2db4"),p=Object(i["a"])(u,n,r,!1,null,null,null);p.options.__file="AlertLogin.vue";t["a"]=p.exports;c()(p,{VBtn:f["a"],VSnackbar:m["a"]})},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("097d");var n=o("2b0e"),r=o("ce5b"),a=o.n(r),s=(o("bf40"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("ToolBar"),o("AlertLogin"),o("v-container",[o("router-view")],1)],1)}),u=[],i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-toolbar",[o("v-toolbar-title",{attrs:{to:{name:"home"}}},[e._v("啤酒遊戲")]),o("v-spacer"),o("v-toolbar-items",[o("v-btn",{attrs:{flat:"",to:{name:"home"}}},[e._v("首頁")]),o("v-btn",{attrs:{flat:"",to:{name:"lobby"}}},[e._v("大廳")]),o("v-menu",[o("v-btn",{attrs:{slot:"activator",transition:"scale-transition",flat:""},slot:"activator"},[o("v-icon",[e._v("more_vert")])],1),o("v-list",e._l(e.items,function(t,n){return o("v-list-tile",{key:n,on:{click:t.func}},[o("v-list-tile-title",[e._v(e._s(t.title))])],1)}),1)],1)],1)],1)},l=[],c={data:function(){return{items:[{title:"登出",func:this.logout},{title:"個人資料",func:this.showProfile}]}},methods:{logout:function(){var e="ImLogin"==sessionStorage.getItem("token");e&&(this.$router.push({path:"home"}),sessionStorage.removeItem("token"),M.$emit("LogOut",1))},showProfile:function(){this.$router.push({path:"profile"})}}},f=c,m=o("2877"),p=o("6544"),h=o.n(p),g=o("8336"),v=o("132d"),b=o("8860"),d=o("ba95"),y=o("5d23"),w=o("e449"),_=o("9910"),k=o("71d9"),$=o("2a7f"),L=Object(m["a"])(f,i,l,!1,null,null,null);L.options.__file="ToolBar.vue";var S=L.exports;h()(L,{VBtn:g["a"],VIcon:v["a"],VList:b["a"],VListTile:d["a"],VListTileTitle:y["b"],VMenu:w["a"],VSpacer:_["a"],VToolbar:k["a"],VToolbarItems:$["a"],VToolbarTitle:$["b"]});var T=o("081e"),B={name:"App",components:{ToolBar:S,AlertLogin:T["a"]},data:function(){return{}},sockets:{connect:function(){console.log("socket connected")}}},x=B,I=o("7496"),O=o("a523"),V=Object(m["a"])(x,s,u,!1,null,null,null);V.options.__file="App.vue";var j=V.exports;h()(V,{VApp:I["a"],VContainer:O["a"]});var E=o("8c4f");n["default"].use(E["a"]);var P=new E["a"]({routes:[{path:"/home",name:"home",component:function(){return o.e("about").then(o.bind(null,"bb51"))}},{path:"/about",name:"about",component:function(){return o.e("about").then(o.bind(null,"f820"))}},{path:"/lobby",name:"lobby",component:function(){return o.e("about").then(o.bind(null,"417e"))}},{path:"/game",name:"game",component:function(){return o.e("about").then(o.bind(null,"7d36"))}},{path:"/profile",name:"profile",component:function(){return o.e("about").then(o.bind(null,"c66d"))}},{path:"/room",name:"room",component:function(){return o.e("about").then(o.bind(null,"3ab1"))}},{path:"*",redirect:"/home"}]}),A=o("5132"),C=o.n(A);o.d(t,"eventBus",function(){return M}),o.d(t,"userList",function(){return R}),n["default"].use(new C.a({debug:!0,connection:"http://yiyu0x.tk:6969"})),n["default"].use(a.a),n["default"].config.productionTip=!1;var M=new n["default"],R=[];new n["default"]({router:P,render:function(e){return e(j)}}).$mount("#app"),P.beforeEach(function(e,t,o){var n="ImLogin"==sessionStorage.getItem("token");n?(console.log("true"),o()):(console.log("else"),"/"!==e.path?o("/"):o()),"/game"===t.path&&(M.$emit("errorLog","您已離開遊戲間"),M.$emit("exitRoom"),console.log("您已離開遊戲間")),"/room"===t.path&&"/game"!==e.path&&(M.$emit("errorLog","您已離開遊戲間"),M.$emit("exitRoom"),console.log("您已離開遊戲間")),"/lobby"!==t.path&&"/room"===e.path&&(M.$emit("errorLog","您已離開遊戲間"),o("/lobby"),console.log("您已離開遊戲間"))})}});
//# sourceMappingURL=app.c558e8bd.js.map